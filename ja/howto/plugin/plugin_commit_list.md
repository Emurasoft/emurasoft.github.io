# \[コミット リスト\] プラグインの使い方

EmEditor Professional では、既定で \[コミット リスト\](CommitList) プラグインがインストールされます。このプラグインは、Git リポジトリの現在の変更とコミット履歴を表示します。\[コミット リスト\] プラグインを使用するには、プラグイン バーの [コミット リスト](../../images/plugin_commit_list..png) をクリックするか、または \[ツール\] メニューの \[プラグイン\] をポイントし、\[コミット リスト\] を選択します。

コミット リストの機能の中には、Git がインストールされていて、コマンド プロンプトから git コマンドで呼び出し可能であることが必要です。

## \[変更\] サイド バー

プラグインは、最初に、現在の文書が [Git](https://git-scm.com/) リポジトリに存在するかどうか調べます。存在すれば、そのリポジトリが選択され、そのコミット履歴が表示されます。サイド バーの \[開く...\] ボタンをクリックして、異なるリポジトリを開くことができます。

現在の \[変更\] と \[ステージング変更\] がサイド バーに表示されます。\[ステージング変更\] は、インデックスに追加された変更です。作業ディレクトリの他のすべての変更は、\[変更\] リストに表示されます。

サイドバーで変更されたファイルを右クリックすると、その変更されたファイルのコマンドが含まれているメニューが表示されます。このメニューには以下のオプションがあります。

- [変更を表示] は、ファイルに何が変更されたかをエディタで比較して表示します。具体的には、比較されるファイルのバージョンは、ステージングされたファイルの場合は最後のコミットとインデックス バージョン、またはステージングされていないファイルの場合はインデックス バージョンと作業ツリー バージョンです。
- [ファイルを開く] は、そのファイルをエディタで開きます。
- [ステージ] と [アンステージ] は、コマンド `git add` と `git reset` に相当します。
- [変更を元に戻す] は、ステージされていないファイルで選択できます。これは `git checkout` を呼び出して、ファイルをインデックスの内容で上書きします。追跡されていないファイルは削除されます。
- サブモジュールが表示されている場合、[サブモジュールを更新] は、[`git submodule update --init`](https://git-scm.com/docs/git-submodule#Documentation/git-submodule.txt-update--init--remote-N--no-fetch--no-recommend-shallow-f--force--checkout--rebase--merge--referenceltrepositorygt--depthltdepthgt--recursive--jobsltngt--no-single-branch--filterltfilterspecgt--ltpathgt82308203) を呼び出して、サブモジュールのファイルを現在の `HEAD` に更新します。
- [最新の情報に更新] は、変更されたファイルのリストを更新します。

コミット リストは、ファイル システムを監視していて、リポジトリ ディレクトリ内でファイルが外部プログラムにより変更されると、サイド バーは最新の情報に更新されます。

\[プル\] ボタンはリモートからローカル リポジトリに変更をプルします。\[プッシュ\] はローカルの変更をリモート リポジトリに送信します。現在のブランチが上流ブランチに関連付けられていない場合、変更がプッシュされる前に上流ブランチが作成されます。これらのコマンドは完了時にステータスバーにメッセージを表示します。

[プル] と [プッシュ] ボタンには、上流ブランチに対して遅れているか先行しているコミットの数を示す数字が表示されることもあります。"プル (1)" は、プルするコミットが1つあることを意味し、"プッシュ (1)" は、プッシュするコミットが1つあることを意味します。メニューの [自動フェッチ] オプションは、これらの数字を定期的に更新するのに役立ちます。

\[\>\] ボタンをクリックすると、さらに多くのコマンドにアクセスできます。

- [最新の情報に更新] は、変更されたファイルのリストを更新します。
- [コマンド アウトプット] は、以前のコマンドのアウトプットを表示します。
- [ステータス] コマンドは、`git status` の出力を表示します。
- [フェッチ] コマンドは、リモート追跡ブランチを更新します。
- [リポジトリのフォルダを開く] は、リポジトリのフォルダをファイル エクスプローラーで開きます。
- 現在のブランチに上流ブランチがある場合、[リポジトリの Webサイトを開く] は、GitHub のようなプロジェクトのソース コントロールおよびコラボレーション Webサイトを Webブラウザで開きます。
- [自動フェッチ] が有効になっている場合、`git fetch` は3分ごとに呼び出されます。
- [ヘルプ] は、このページを開きます。

ドロップ ダウン メニューから選択ブランチを変更することができます。ブランチの変更は、 `git checkout branch` コマンドと等価です。競合する変更があるとブランチをチェック アウトすることができません。

ブランチ ドロップ ダウン メニューの下のテキスト ボックスには、コミット メッセージを入力することができます。\[ステージング済みをコミット\] ボタン、または \[すべてコミット\] ボタンをクリックすると、ステージング済みの変更、またはすべての変更をステージングしてコミットすることができます。コミットは現在選択されているブランチに対して行われます。

## コミット リスト

\[コミット リスト\] ボタンをクリックすると、コミットの履歴を表示します。コミットが選択されると、右パネルにそのコミットの詳細とこのコミットで変更されたファイルのリストが表示されます。リスト内のファイルを右クリックして [以前と比較] を選択すると、このコミットでファイルに何が変更されたかを確認できます。

コミット リスト内のコミットで右クリックして \[コピー\] を選択すると、コミットの詳細をコピーすることができます。\[コミットのファイルを参照\] を選択すると、コミットが作成された時のディレクトリ ツリーを表示します。\[コミットの比較\] を選択すると、2つのコミットを比較することができます。

コミットで [チェックアウト (--detach)] を選択すると、detach された HEAD が作成されます。コミットから新しいブランチを作成したい場合は、[新規ブランチを作成...] を選択します。

\[フィルターの履歴\] をクリックしてリストにフィルターを設定することができます。\[検索する文字列\] を入力して \[フィルターの種類\] オプションを選択し、\[フィルター\] をクリックします。すると、コミット リストにはフィルターに一致するコミットのみを表示します。[フィルター履歴] ボタンの隣の [X] ボタンをクリックすると、フィルターを解除します。

左パネルには、リポジトリ内のブランチのリストが表示されます。[ブランチを表示] を選択すると、そのブランチのコミットリストが表示されます。[ブランチをチェックアウト] でブランチに切り替えることができます。[新規ブランチを作成] は、選択されたブランチから新しいブランチを作成します。または、[ブランチを削除] を選択してブランチを削除します。2つのブランチが選択されている場合、[ブランチの比較] でそれらのブランチ間のファイルを比較できます。

現在のリポジトリに存在するファイルがエディタで開かれている場合、\[現在の文書の履歴を表示\] ボタンが選択可能になります。これは、現在のファイルの変更を含むすべてのコミットを表示します。コミットで右クリックすると、4つのオプションを表示します。\[コミットを表示\] は、メインのコミット リストのコミットにジャンプします。\[以前と比較\] は、その以前のリビジョンとファイルを比較します。\[コミットのファイルを比較\] は 2つの異なるコミットでのファイルを比較します。\[作業ツリーのファイルと比較\] は、選択されたコミットのファイルと作業ツリーのバージョンを比較します。

## ヒント

- F6 キーまたは ESC キーを押すと、エディタにキーボード フォーカスが戻ります。
